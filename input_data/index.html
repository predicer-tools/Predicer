<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Project documentation for Predicer"><meta name=author content="VTT DOES Team"><link href=https://github.com/predicer-tools/Predicer/input_data/ rel=canonical><link href=../getting_started/ rel=prev><link href=../example_models/ rel=next><link rel=icon href=../images/Predicer_logo_web.svg><meta name=generator content="mkdocs-1.6.1, mkdocs-material-9.5.49"><title>Building your model - Predicer</title><link rel=stylesheet href=../assets/stylesheets/main.6f8fc17f.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script></head> <body dir=ltr> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#input-data-description class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class="md-header md-header--shadow" data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=https://cris.vtt.fi/en/organisations/ba4206-design-and-operation-of-energy-systems title=Predicer class="md-header__button md-logo" aria-label=Predicer data-md-component=logo> <img src="../images/VTT_Orange_Logo - Predicer.svg" alt=logo> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> Predicer </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Building your model </span> </div> </div> </div> <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> </label> <nav class=md-search__options aria-label=Search> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg> </button> </nav> </form> <div class=md-search__output> <div class=md-search__scrollwrap tabindex=0 data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/predicer-tools/Predicer title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.7.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg> </div> <div class=md-source__repository> predicer-tools/Predicer </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=https://cris.vtt.fi/en/organisations/ba4206-design-and-operation-of-energy-systems title=Predicer class="md-nav__button md-logo" aria-label=Predicer data-md-component=logo> <img src="../images/VTT_Orange_Logo - Predicer.svg" alt=logo> </a> Predicer </label> <div class=md-nav__source> <a href=https://github.com/predicer-tools/Predicer title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.7.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg> </div> <div class=md-source__repository> predicer-tools/Predicer </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=.. class=md-nav__link> <span class=md-ellipsis> About us </span> </a> </li> <li class=md-nav__item> <a href=../introduction/ class=md-nav__link> <span class=md-ellipsis> Overview </span> </a> </li> <li class=md-nav__item> <a href=../getting_started/ class=md-nav__link> <span class=md-ellipsis> Getting started </span> </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> <span class=md-ellipsis> Building your model </span> <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> <span class=md-ellipsis> Building your model </span> </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#input-data-description class=md-nav__link> <span class=md-ellipsis> Input data description </span> </a> <nav class=md-nav aria-label="Input data description"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#setup class=md-nav__link> <span class=md-ellipsis> setup </span> </a> </li> <li class=md-nav__item> <a href=#nodes class=md-nav__link> <span class=md-ellipsis> nodes </span> </a> </li> <li class=md-nav__item> <a href=#processes class=md-nav__link> <span class=md-ellipsis> processes </span> </a> </li> <li class=md-nav__item> <a href=#groups class=md-nav__link> <span class=md-ellipsis> groups </span> </a> </li> <li class=md-nav__item> <a href=#node_diffusion class=md-nav__link> <span class=md-ellipsis> node_diffusion </span> </a> </li> <li class=md-nav__item> <a href=#node_history class=md-nav__link> <span class=md-ellipsis> node_history </span> </a> </li> <li class=md-nav__item> <a href=#node_delay class=md-nav__link> <span class=md-ellipsis> node_delay </span> </a> </li> <li class=md-nav__item> <a href=#process_topology class=md-nav__link> <span class=md-ellipsis> process_topology </span> </a> </li> <li class=md-nav__item> <a href=#efficiencies class=md-nav__link> <span class=md-ellipsis> efficiencies </span> </a> </li> <li class=md-nav__item> <a href=#reserve_type class=md-nav__link> <span class=md-ellipsis> reserve_type </span> </a> </li> <li class=md-nav__item> <a href=#markets class=md-nav__link> <span class=md-ellipsis> markets </span> </a> </li> <li class=md-nav__item> <a href=#reserve_realisation class=md-nav__link> <span class=md-ellipsis> reserve_realisation </span> </a> </li> <li class=md-nav__item> <a href=#time-series-data class=md-nav__link> <span class=md-ellipsis> Time series data </span> </a> <nav class=md-nav aria-label="Time series data"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#time-series-notation-in-the-excel-format-input-data class=md-nav__link> <span class=md-ellipsis> Time series notation in the excel-format input data </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#scenario class=md-nav__link> <span class=md-ellipsis> scenario </span> </a> </li> <li class=md-nav__item> <a href=#risk class=md-nav__link> <span class=md-ellipsis> risk </span> </a> </li> <li class=md-nav__item> <a href=#inflow_blocks class=md-nav__link> <span class=md-ellipsis> inflow_blocks </span> </a> </li> <li class=md-nav__item> <a href=#general-constraints class=md-nav__link> <span class=md-ellipsis> General constraints </span> </a> <nav class=md-nav aria-label="General constraints"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#constraint class=md-nav__link> <span class=md-ellipsis> constraint </span> </a> </li> <li class=md-nav__item> <a href=#gen_constraint class=md-nav__link> <span class=md-ellipsis> gen_constraint </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../example_models/ class=md-nav__link> <span class=md-ellipsis> Example models </span> </a> </li> <li class=md-nav__item> <a href=../references/ class=md-nav__link> <span class=md-ellipsis> References </span> </a> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#input-data-description class=md-nav__link> <span class=md-ellipsis> Input data description </span> </a> <nav class=md-nav aria-label="Input data description"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#setup class=md-nav__link> <span class=md-ellipsis> setup </span> </a> </li> <li class=md-nav__item> <a href=#nodes class=md-nav__link> <span class=md-ellipsis> nodes </span> </a> </li> <li class=md-nav__item> <a href=#processes class=md-nav__link> <span class=md-ellipsis> processes </span> </a> </li> <li class=md-nav__item> <a href=#groups class=md-nav__link> <span class=md-ellipsis> groups </span> </a> </li> <li class=md-nav__item> <a href=#node_diffusion class=md-nav__link> <span class=md-ellipsis> node_diffusion </span> </a> </li> <li class=md-nav__item> <a href=#node_history class=md-nav__link> <span class=md-ellipsis> node_history </span> </a> </li> <li class=md-nav__item> <a href=#node_delay class=md-nav__link> <span class=md-ellipsis> node_delay </span> </a> </li> <li class=md-nav__item> <a href=#process_topology class=md-nav__link> <span class=md-ellipsis> process_topology </span> </a> </li> <li class=md-nav__item> <a href=#efficiencies class=md-nav__link> <span class=md-ellipsis> efficiencies </span> </a> </li> <li class=md-nav__item> <a href=#reserve_type class=md-nav__link> <span class=md-ellipsis> reserve_type </span> </a> </li> <li class=md-nav__item> <a href=#markets class=md-nav__link> <span class=md-ellipsis> markets </span> </a> </li> <li class=md-nav__item> <a href=#reserve_realisation class=md-nav__link> <span class=md-ellipsis> reserve_realisation </span> </a> </li> <li class=md-nav__item> <a href=#time-series-data class=md-nav__link> <span class=md-ellipsis> Time series data </span> </a> <nav class=md-nav aria-label="Time series data"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#time-series-notation-in-the-excel-format-input-data class=md-nav__link> <span class=md-ellipsis> Time series notation in the excel-format input data </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#scenario class=md-nav__link> <span class=md-ellipsis> scenario </span> </a> </li> <li class=md-nav__item> <a href=#risk class=md-nav__link> <span class=md-ellipsis> risk </span> </a> </li> <li class=md-nav__item> <a href=#inflow_blocks class=md-nav__link> <span class=md-ellipsis> inflow_blocks </span> </a> </li> <li class=md-nav__item> <a href=#general-constraints class=md-nav__link> <span class=md-ellipsis> General constraints </span> </a> <nav class=md-nav aria-label="General constraints"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#constraint class=md-nav__link> <span class=md-ellipsis> constraint </span> </a> </li> <li class=md-nav__item> <a href=#gen_constraint class=md-nav__link> <span class=md-ellipsis> gen_constraint </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <h1>Building your model</h1> <div><h2 id=input-data-description>Input data description<a class=headerlink href=#input-data-description title="Permanent link">¶</a></h2> <p>The basic parameters and usage of the excel-format input data are described here. The input data has to be given to Predicer in a specific form, and the excel-format input data files are not a requirement. Excel has been used during development, since they were considered more convenient than databases or other forms of data structures.</p> <h3 id=setup>setup<a class=headerlink href=#setup title="Permanent link">¶</a></h3> <p>The setup sheet is used to define specific parameters used to define the functionalities of the model. The parameters defined in this sheet often override other information, for example if use_reserves is set to 0 (false), no reserve functionalities will be used in the model even if relevant structures are defined in other parts of the input data. This enables quick testing with or without certain features without needing to change large amounts of data or needing to use separate input data files. </p> <table> <thead> <tr> <th>Parameter</th> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td>use_market_bids</td> <td>Bool</td> <td>Flag indicating whether market bids are used in the model</td> </tr> <tr> <td>use_reserves</td> <td>Bool</td> <td>Flag indicating whether reserves are used in the model. If set to false, no reserve functionalities are used.</td> </tr> <tr> <td>use_reserve_realisation</td> <td>Bool</td> <td>Indicates whether reserves can be realised. If set to false, no realisation occurs.</td> </tr> <tr> <td>use_node_dummy_variables</td> <td>Bool</td> <td>Indicates if dummy variables should be used in the node balance equations.</td> </tr> <tr> <td>use_ramp_dummy_variables</td> <td>Bool</td> <td>Indicates if dummy variables should be used in the ramp balance equations.</td> </tr> <tr> <td>common_timesteps</td> <td>Int</td> <td>Indicates the length of a common start, where the parameters and variable values are equal across all scenarios. Default is 0.</td> </tr> <tr> <td>common_scenario_name</td> <td>String</td> <td>Name of the common start scenario, if it is used.</td> </tr> </tbody> </table> <h3 id=nodes>nodes<a class=headerlink href=#nodes title="Permanent link">¶</a></h3> <p>Nodes are fundamental building blocks in Predicer, along with Processes.</p> <table> <thead> <tr> <th>Parameter</th> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td>node</td> <td>String</td> <td>Name of the node</td> </tr> <tr> <td>is_commodity</td> <td>Bool</td> <td>Indicates if the node is a commodity node</td> </tr> <tr> <td>is_state</td> <td>Bool</td> <td>Indicates if the node has a state (storage)</td> </tr> <tr> <td>is_res</td> <td>Bool</td> <td>Indicates if the node is involved in reserve markets</td> </tr> <tr> <td>is_market</td> <td>Bool</td> <td>Indicates if the node is a market node</td> </tr> <tr> <td>is_inflow</td> <td>Bool</td> <td>Indicates if the node has an inflow</td> </tr> <tr> <td>state_max</td> <td>Float</td> <td>Storage state capacity (if node has a state)</td> </tr> <tr> <td>state_min</td> <td>Float</td> <td>Storage state minimum level (if node has a state)</td> </tr> <tr> <td>in_max</td> <td>Float</td> <td>Storage state charge capacity</td> </tr> <tr> <td>out_max</td> <td>Float</td> <td>Storage state discharge capacity</td> </tr> <tr> <td>initial_state</td> <td>Float</td> <td>Initial state of the storage</td> </tr> <tr> <td>state_loss_proportional</td> <td>Float</td> <td>Hourly storage loss relative to the state of the storage</td> </tr> <tr> <td>scenario_independent_state</td> <td>Bool</td> <td>If true, forces the state variable to be equal in all scenarios</td> </tr> <tr> <td>is_temp</td> <td>Bool</td> <td>Flag indicating whether the state of the node models temperature</td> </tr> <tr> <td>T_E_conversion</td> <td>Float</td> <td>Conversion coefficient from temperature to energy (kWh/K)</td> </tr> <tr> <td>residual_value</td> <td>Float</td> <td>Value of the storage contents at the end of the time range</td> </tr> </tbody> </table> <h3 id=processes>processes<a class=headerlink href=#processes title="Permanent link">¶</a></h3> <p>Processes are fundamental building blocks in Predicer, along with Nodes. They are used to convert or transfer electricity or heat, or etc. between nodes in the modelled system.</p> <table> <thead> <tr> <th>Parameter</th> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td>process</td> <td>String</td> <td>Name of the process</td> </tr> <tr> <td>is_cf</td> <td>Bool</td> <td>Indicates if the process is limited by a capacity factor time series</td> </tr> <tr> <td>is_cf_fix</td> <td>Bool</td> <td>Indicates if the process has to match the capacity factor time series</td> </tr> <tr> <td>is_online</td> <td>Bool</td> <td>Indicates if the process is an online/offline unit</td> </tr> <tr> <td>is_res</td> <td>Bool</td> <td>Indicates if the process participates in reserve markets</td> </tr> <tr> <td>conversion</td> <td>Integer</td> <td>Indicates the type of the process. 1 = unit based process, 2 = transfer process, 3 = market process</td> </tr> <tr> <td>eff</td> <td>Float</td> <td>Process efficiency (total output / total input)</td> </tr> <tr> <td>load_min</td> <td>Float</td> <td>Minimum load of the process as a fraction of total capacity. Only for online processes</td> </tr> <tr> <td>load_max</td> <td>Float</td> <td>Maximum load of the process as a fraction of total capacity. Only for online processes</td> </tr> <tr> <td>start_cost</td> <td>Float</td> <td>Cost of starting the unit, only for online processes.</td> </tr> <tr> <td>min_online</td> <td>Float</td> <td>Minimum time the process has to be online after start up</td> </tr> <tr> <td>min_offline</td> <td>Float</td> <td>Minimum time the process has to be offline during shut down</td> </tr> <tr> <td>max_online</td> <td>Float</td> <td>Maximum time the process can be online</td> </tr> <tr> <td>max_offline</td> <td>Float</td> <td>Maximum time the process can be offline</td> </tr> <tr> <td>scenario_independent_online</td> <td>Bool</td> <td>if true, forces the online variable of the process to be equal in all scenarios</td> </tr> <tr> <td>initial_state</td> <td>Bool</td> <td>Initial state of the online unit (0 = offline, 1 = online)</td> </tr> </tbody> </table> <h3 id=groups>groups<a class=headerlink href=#groups title="Permanent link">¶</a></h3> <p>The user can define groups of either nodes or processes. Groups are used to define which processes or which nodes can for example participate in the realisation of a reserve. Group membership is defined row by row, with the first column being the type of the group, which is either node or process. The second column is the name of the entit (either a node or a process) which is to be part of the group named in the third column. A group can only contain entities of the specified type, for example adding the node "ng" to a process group will result in an error. Entities can be a part of several groups, and there is no limitation to the number of member sin a group.</p> <table> <thead> <tr> <th>Parameter</th> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td>type</td> <td>String</td> <td>Type of the group (node/process)</td> </tr> <tr> <td>entity</td> <td>String</td> <td>The name of the node or process which is to be a part of a group</td> </tr> <tr> <td>group</td> <td>String</td> <td>The name of the group</td> </tr> </tbody> </table> <h3 id=node_diffusion>node_diffusion<a class=headerlink href=#node_diffusion title="Permanent link">¶</a></h3> <p>Node diffusion is used to model flow of energy between nodes with states, with the size of the flow depending on the level of the node state and the given diffusion coefficient. One possible application of this could be the flow of heat from the inside of a building to the outside during heating season. The flow of energy between nodes <em>N1</em> and <em>N2</em> is simply calculated as <em>E = k (T1 - T2)</em>, with <em>T1</em> and <em>T2</em> being the temperatures of the nodes. If the temperature difference is negative <em>(T2 &gt; T1)</em>, the flow of energy goes from <em>N2</em> to <em>N1</em>, and if <em>(T1 &gt; T2)</em>, the energy flows from <em>N1</em> to <em>N2</em>. The temperatures of the nodes are linked to the level of the node states, either directly if the <em>is_temp</em> flag for the state is 1, or alternatively using the <em>T_E_converison</em> coefficient if the state is modelled as energy. </p> <table> <thead> <tr> <th>Parameter</th> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td>node1</td> <td>String</td> <td>The node from which heat flows if the temperature difference T1 - T2 is positive</td> </tr> <tr> <td>node2</td> <td>String</td> <td>The node to which heat flows if the temperature difference T1 - T2 is positive</td> </tr> <tr> <td>diff_coeff</td> <td>Float</td> <td>The diffusion coefficient between the nodes. Must be positive.</td> </tr> </tbody> </table> <h3 id=node_history>node_history<a class=headerlink href=#node_history title="Permanent link">¶</a></h3> <p>When modelling delay flows between nodes in Predicer, there is a flow from one node <em>n1</em> at timestep <em>t</em> to another node <em>n2</em> at timestep <em>t+d</em>, where <em>d</em> is the length of the delay. The <em>node_history</em> sheet is used to define flows into node <em>n2</em> for the <em>d</em> first timesteps of the optimization horizon, when the model cannot determine the flow from node <em>n1</em>, since it is outside of the optimization horizon. Node history can be seen as an inflow into a node for <em>d</em> timesteps. </p> <p>The node history data should be provided for all nodes that are on the recieving end of a delay relation. The data for each node is given in two columns, one with the relevant timesteps, and the other with the size of the flow. The notation for the first column is of form <em>nodename</em>,t,<em>scenario</em> and the notation for the second column is of form <em>nodename</em>,<em>scenario</em>. Below is an example from the <em>input_data_delays.xlsx</em> model with a delay flow ending in the <em>dh2</em> node. The length of the columns don't have to be equal for different nodes.</p> <table> <thead> <tr> <th>t</th> <th>dh2,t,s1</th> <th>d2,s1</th> </tr> </thead> <tbody> <tr> <td>1</td> <td>20.4.2022 0:00</td> <td>3</td> </tr> <tr> <td>2</td> <td>20.4.2022 1:00</td> <td>4</td> </tr> <tr> <td>3</td> <td></td> <td></td> </tr> </tbody> </table> <h3 id=node_delay>node_delay<a class=headerlink href=#node_delay title="Permanent link">¶</a></h3> <p>Node delay is used to model a delay in the flow between two nodes, with a river hydropower system being a great example. When water is released from an upstream reservoir it takes a while until the water flow reaches a reservoir downstream. A delay flow is defined between two nodes with node balance, so commodity nodes or market nodes cannot be a part of a delay relation. The delay flow is one-way, with an efficiency of 1. </p> <table> <thead> <tr> <th>Parameter</th> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td>node1</td> <td>String</td> <td>Name of the from node</td> </tr> <tr> <td>node2</td> <td>String</td> <td>Name of the to node</td> </tr> <tr> <td>delay_</td> <td>Float</td> <td>Delay between the nodes in hours</td> </tr> <tr> <td>min_flow</td> <td>Float</td> <td>Minimum allowed value for the flow</td> </tr> <tr> <td>max_flow</td> <td>Float</td> <td>Maximum allowed value for the flow</td> </tr> </tbody> </table> <h3 id=process_topology>process_topology<a class=headerlink href=#process_topology title="Permanent link">¶</a></h3> <p>Process topologies are used to define the process flows and capacities in the modelled system. Flows are connections between nodes and processes, and are used to balance the modelled system.</p> <table> <thead> <tr> <th>Parameter</th> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td>process</td> <td>String</td> <td>Name of the process</td> </tr> <tr> <td>source_sink</td> <td>String</td> <td>Determines whether the connection node is a source or a sink for the process</td> </tr> <tr> <td>node</td> <td>String</td> <td>Name of the connection node</td> </tr> <tr> <td>capacity</td> <td>Float</td> <td>Capacity of the connection</td> </tr> <tr> <td>VOM_cost</td> <td>Float</td> <td>Variable operational and maintenance cost of using the corresponding process flow</td> </tr> <tr> <td>ramp_up</td> <td>Float</td> <td>Determines the hourly upward ramp rate of the corresponding process flow</td> </tr> <tr> <td>ramp_down</td> <td>Float</td> <td>Determines the hourly downward ramp rate of the corresponding process flow</td> </tr> <tr> <td>initial_load</td> <td>Float</td> <td>Sets the initial value of the process load, from which optimization starts</td> </tr> <tr> <td>initial_flow</td> <td>Float</td> <td>Sets the initial value of the process flow, from which optimization starts</td> </tr> </tbody> </table> <h3 id=efficiencies>efficiencies<a class=headerlink href=#efficiencies title="Permanent link">¶</a></h3> <p>Unit-based processes can have a flat efficiency, as defined in the <em>processes</em> sheet, or an efficiency which depends on the load of the process. Load-based efficiency can be defined in the sheet <em>efficiencies</em>. Defining an efficiency in the <em>efficiencies</em> sheet overrides the value given in the <em>processes</em> sheet. The efficiency of a process is defined on two rows; one row for the <em>operating point</em>, <em>op</em>, and one row for the corresponding <em>efficiency</em>, <em>eff</em>. In the example table below, the efficiency of an imaginary gas turbine <em>gas_turb</em> has been defined for four load intervals. The number of given operating points and corresponding efficiencies is chosen by the user, simply by adding or removing columns The operating points are defined on a row, where the first column has the value <strong><em>process,op</em></strong>, and the efficiencies are defined on a row where the value of the first column is <strong><em>process,eff</em></strong>. </p> <table> <thead> <tr> <th>process</th> <th>1</th> <th>2</th> <th>3</th> <th>4</th> </tr> </thead> <tbody> <tr> <td>gas_turb,op</td> <td>0.4</td> <td>0.6</td> <td>0.8</td> <td>1.0</td> </tr> <tr> <td>gas_turb,eff</td> <td>0.27</td> <td>0.31</td> <td>0.33</td> <td>0.34</td> </tr> </tbody> </table> <h3 id=reserve_type>reserve_type<a class=headerlink href=#reserve_type title="Permanent link">¶</a></h3> <p>The sheet <em>reserve_type</em> is used to define the types of reserve used in the model, mainly differing based on reserve activation speed. </p> <table> <thead> <tr> <th>Parameter</th> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td>type</td> <td>String</td> <td>Name of the reserve type</td> </tr> <tr> <td>ramp_factor</td> <td>Float</td> <td>Ramp rate factor of reserve activation speed. (If reserve has to activate in 1 hour, ramp_factor is 1.0. In 15 minutes, ramp_factor is 4)</td> </tr> </tbody> </table> <h3 id=markets>markets<a class=headerlink href=#markets title="Permanent link">¶</a></h3> <p>Markets are a type of node, with which the modelled system can be balanced by buying or selling of a product such as electricity. Markets can either be of the <em>energy</em> type, or of the <em>reserve</em> type. </p> <table> <thead> <tr> <th>Parameter</th> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td>market</td> <td>String</td> <td>Name of the market</td> </tr> <tr> <td>type</td> <td>String</td> <td>type of the market (energy or reserve)</td> </tr> <tr> <td>node</td> <td>String</td> <td>Node a market is connected to, or nodegroup a reserve market is ocnnected to.</td> </tr> <tr> <td>processgroup</td> <td>String</td> <td>The processgroup the reserve market is connected to. Not used for energy markets.</td> </tr> <tr> <td>direction</td> <td>String</td> <td>Direction of the market, only for reserve markets</td> </tr> <tr> <td>reserve_type</td> <td>String</td> <td>Determines the type of the reserve</td> </tr> <tr> <td>is_bid</td> <td>Bool</td> <td>Determines if bids can be offered to the market</td> </tr> <tr> <td>is_limited</td> <td>Bool</td> <td>Determines if reserve markets are limited</td> </tr> <tr> <td>min_bid</td> <td>Float</td> <td>Minimum reserve offer if limited</td> </tr> <tr> <td>max_bid</td> <td>Float</td> <td>Maximum reserve offer if limited</td> </tr> <tr> <td>fee</td> <td>Float</td> <td>Reserve participation fee (per time period) if limited</td> </tr> </tbody> </table> <h3 id=reserve_realisation>reserve_realisation<a class=headerlink href=#reserve_realisation title="Permanent link">¶</a></h3> <p>reserve realisation is defined for each defined reserve market separately for each defined scenario. The realisation of the reserve is the expected share of activation for the offered reserve capacity for each timestep. A value of 0.0 means that none of the offered reserve capacity is activated, and 1.0 means that 100% of the offered capacity is activated, and the corresponding energy produced by reserve processes defined by the user. The notation of the <em>reserve_realisation</em> sheet is as such: the reserve markets are given on rows 2:n in the first column, with the scenarios being defined on the first row from column B forward. The realisation probability is given in the intersection of the reserve markets and the scenarios. An example of the layout of the sheet is shown below. The model contains two reserve markets (<em>res_up</em> and <em>res_down</em>), and 3 scenarios (<em>s1</em>, <em>s2</em> and <em>s3</em>).</p> <p>The energy imbalance caused by reserve activation is allocated to the nodes that are members in the nodegroup linked to the reserve market, defined in the <em>markets</em> sheet. The necessary actions to produce the reserve are taken by the members of the processgroup defined in the <em>markets</em> sheet.</p> <table> <thead> <tr> <th>reserve_products</th> <th>s1</th> <th>s2</th> <th>s3</th> </tr> </thead> <tbody> <tr> <td>res_up</td> <td>0.3</td> <td>0.2</td> <td>0.3</td> </tr> <tr> <td>res_down</td> <td>0.1</td> <td>0.2</td> <td>0.4</td> </tr> </tbody> </table> <h3 id=time-series-data>Time series data<a class=headerlink href=#time-series-data title="Permanent link">¶</a></h3> <p>Time series are used in Predicer to represent parameters that are time-dependent. The notation to define time series data in the excel input files depend on the time series data in question. </p> <p>The sheet <em>timeseries</em> contains the timesteps used in the model. This sheet contains only one column <em>t</em>, with the given time steps.</p> <p>Example</p> <table> <thead> <tr> <th>t</th> </tr> </thead> <tbody> <tr> <td>20.4.2022 1:00</td> </tr> <tr> <td>20.4.2022 2:00</td> </tr> <tr> <td>20.4.2022 3:00</td> </tr> <tr> <td>20.4.2022 4:00</td> </tr> <tr> <td>20.4.2022 0:00</td> </tr> <tr> <td>20.4.2022 5:00</td> </tr> <tr> <td>20.4.2022 6:00</td> </tr> <tr> <td>20.4.2022 7:00</td> </tr> <tr> <td>20.4.2022 8:00</td> </tr> <tr> <td>20.4.2022 9:00</td> </tr> </tbody> </table> <h4 id=time-series-notation-in-the-excel-format-input-data>Time series notation in the excel-format input data<a class=headerlink href=#time-series-notation-in-the-excel-format-input-data title="Permanent link">¶</a></h4> <p>The first column, <em>t</em>, should contain the time steps for the time series data. The following columns (2-n) should contain the values corresponding to the given time steps. The name of the other columns should start with the name of the linked entity, usually followed by which scenario the value is for. The values can be defined for each scenario in separate columns, or a single column can be used for several scenarios, separated by commas. The notation used for the different time series is given in the table below.</p> <p>As an example the inflow for the node <em>nn</em> can be given as <strong><em>nn,s1</em></strong> if the values are given for scenario <em>s1</em>, and <strong><em>nn,s1,s2</em></strong> if the given values should be for both <em>s1</em> and <em>s2</em>. If all scenarios should have the same values, they can be defined as <strong><em>nn,ALL</em></strong>. </p> <table> <thead> <tr> <th>Sheet</th> <th>Description</th> <th>Notation</th> </tr> </thead> <tbody> <tr> <td>cf</td> <td>Capacity factor time series for processes with cf functionality</td> <td>process, scenario(s)</td> </tr> <tr> <td>inflow</td> <td>Inflow time series for nodes (inflow positive value, demand negative value)</td> <td>node, scenario(s)</td> </tr> <tr> <td>price</td> <td>Price time series for the cost of using commodity nodes</td> <td>node, scenario(s)</td> </tr> <tr> <td>market_prices</td> <td>Price time series for the defined markets</td> <td>market, scenario(s)</td> </tr> <tr> <td>balance_prices</td> <td>Price time series for balance markets</td> <td>market, direction, scenario(s)</td> </tr> <tr> <td>fixed_ts</td> <td>Value time series for setting market volumes to a fixed value</td> <td>market</td> </tr> <tr> <td>eff_ts</td> <td>Value time series of the efficiency of processes</td> <td>process, scenariox(s)</td> </tr> <tr> <td>cap_ts</td> <td>Value time series limiting a flow of a process</td> <td>Process, connected node, scenario</td> </tr> </tbody> </table> <h3 id=scenario>scenario<a class=headerlink href=#scenario title="Permanent link">¶</a></h3> <p>The scenarios in Predicer are separate versions of the future, with potentially differing parameter values. Predicer optimizes the optimal course of action, based on the probability of the defined scenarios.</p> <table> <thead> <tr> <th>Parameter</th> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td>name</td> <td>String</td> <td>Name of the scenario</td> </tr> <tr> <td>probability</td> <td>Float</td> <td>Probability of the scenario. The sum of all rows should be 1</td> </tr> </tbody> </table> <h3 id=risk>risk<a class=headerlink href=#risk title="Permanent link">¶</a></h3> <p>The <em>risk</em> sheet in the excel-format input data contains information about the CVaR (conditional value at risk). For details, see <a href=#1>[1]</a> and <a href=#2>[2]</a></p> <table> <thead> <tr> <th>Risk parameter</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td>alfa</td> <td>Risk quantile</td> </tr> <tr> <td>beta</td> <td>Share of CVaR in objective function</td> </tr> </tbody> </table> <h3 id=inflow_blocks>inflow_blocks<a class=headerlink href=#inflow_blocks title="Permanent link">¶</a></h3> <p><em>Inflow blocks</em>, or simply <em>blocks</em>, are potential flexibility which can be modelled with <em>Predicer</em>. A block has generally been thought of as "if a demand response action is taken on time <em>t</em> by reducing/increasing <em>inflow</em> to <em>node</em> <em>n</em> by amount x, how must the system compensate on times- t-1, t-2.. or t+1, t+2...", or "if the heating for a building is turned off on time t, what has to be done in the following hours to compensate?". The blocks can thus be seen as a potential for flexibility, and how the system has to be compensated as a consequence of using the potential.</p> <p>Each <em>block</em> consists of a binary variable, consequent timesteps, and a constant value for each timestep. Each block is linked to a specific node, as well as a specific scenario. Despite being called "Inflow blocks", they can be linked to nodes without any inflow as well. Node inflow is modelled for each timestep and scenario as the given value in the <em>inflow</em> sheet. The product of the block binary variable value and the given constant is added to the inflow for relevant combinations of node, scenario and timestep. Two active blocks cannot overlap in the same node, time and scenario. The user can define any number of blocks for the same time, but only one can be active for a specific node, scenario and timestep. </p> <p>Inflow blocks are defined in the <strong><em>inflow_blocks</em></strong> sheet. The first column of the sheet is named <em>t</em>, and is not used in the model itself. Each block is defined using one column for the timesteps and scenario columns for scenario based constant values. The name for the timestep column is of the form <strong><em>blockname, nodename</em></strong> and names for the scenario columns are of the form <strong><em>blockname, scenario</em></strong>. It is important, that these columns have an equal amount of rows. The columns for different blocks can have different amount of rows.</p> <p>As an example, assume there are two blocks, <strong><em>b1</em></strong> and <strong><em>b2</em></strong>. The blocks should be defined to the <em>inflow_blocks</em> sheet as following:</p> <table> <thead> <tr> <th>t</th> <th>b1, n1</th> <th>b1, s1</th> <th>b1, s2</th> <th>b2, n2</th> <th>b2, s1</th> <th>b2, s2</th> </tr> </thead> <tbody> <tr> <td>1</td> <td>20.4.2022 1:00</td> <td>6</td> <td>4</td> <td>20.4.2022 6:00</td> <td>-3</td> <td>-2</td> </tr> <tr> <td>2</td> <td>20.4.2022 2:00</td> <td>-3</td> <td>-2</td> <td>20.4.2022 7:00</td> <td>2</td> <td>1</td> </tr> <tr> <td>3</td> <td>20.4.2022 3:00</td> <td>-2</td> <td>-1</td> <td>20.4.2022 8:00</td> <td>1</td> <td>1</td> </tr> <tr> <td>4</td> <td>20.4.2022 4:00</td> <td>-1</td> <td>1</td> <td></td> <td></td> <td></td> </tr> </tbody> </table> <p>As with the generic constraints described below, the validity of the user input is not checked. The user should thus ensure, that the node linked to the block can handle the change in inflow, especially in nodes with either only consumers or producer. If a block causes a change in the sign of the inflow (- to +, or + to -), the results may be unpredictable. As an example, using a block causing a positive flow of heat into a district heating node without any way to remove the heat would result in high penalty costs, and the model would thus not use the block.</p> <h3 id=general-constraints>General constraints<a class=headerlink href=#general-constraints title="Permanent link">¶</a></h3> <p>General constraints in Predicer can be used to limit or fix process flow variables, online variables, or storage state variables in relation to other variables or a given value. The name and type of the constraint is defined in the sheet <em>constraints</em>, and the factors are defined in the sheet <em>gen_constraint</em>. </p> <h4 id=constraint>constraint<a class=headerlink href=#constraint title="Permanent link">¶</a></h4> <table> <thead> <tr> <th>Parameter</th> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td>name</td> <td>String</td> <td>Name of the general constraint</td> </tr> <tr> <td>operator</td> <td>String</td> <td>The operator used in the general constraint. <em>eq</em> for <em>=</em>, <em>gt</em> for <em>&gt;</em> and <em>lt</em> for <em>&lt;</em></td> </tr> <tr> <td>is_setpoint</td> <td>Bool</td> <td>Indicates whether the constraint is fixed, or if the model can deviate from the value.</td> </tr> <tr> <td>penalty</td> <td>Float</td> <td>A user-defined penalty for deviating from the givenn value, if constraint is a setpoint.</td> </tr> </tbody> </table> <h4 id=gen_constraint>gen_constraint<a class=headerlink href=#gen_constraint title="Permanent link">¶</a></h4> <p>The user can define additional constraints to the Predicer model, making it more flexible. Genral constraints are a powerful tool for customizing the model, but can also cause problems that are difficult to detect and solve. The user can either add "rigid" constraints, essentially defining a value or a range of values from which a variable or a sum of variables cannot deviate. Normal general constraints are applicable for flow, state and online variables. </p> <p>The user can also define so-called "setpoint" constraints, in which the optimizer can deviate from the values defined by the user. Deviation from the values defined in the setpoint constraints adds and additional cost to the model. The setpoint constraints are only applicable for state and flow variables, not online variables. </p> <p>The time series data in the sheet <em>gen_constraint</em> has a special notation. As with other time series data, the first column <em>t</em> in the sheet <em>gen_constraint</em> contains the time steps for the constraint. The rest of the columns (2-n) contain information corresponding to specific constraints, defined in the sheet <em>constraint</em>. </p> <p>"rigid" general constraints contain factors, which add up to a constant. The notation for the first row of columns (2-n) depends on the type of variable the factor refers to. For process flow variables, <strong>v_flow</strong>, the notation is <em>constraint name, process, process flow, scenario</em>. For process online variables, <strong>v_online</strong>, the notation is <em>constraint name, process, scenario</em>. For storage state variables, <strong>v_state</strong>, the notation is <em>constraint name, node, scenario</em>. Each constraint can also have a constant value added, with the notation <em>constraint name, scenario</em> for the column. For "setpoint" constraints, only one column of factors can be defined, as per the previously mentioned notation. </p> <p>As an example of a normal general constraint, assume a CHP gas turbine <em>gt</em> with a input flow of natural gas <em>ng</em>, as well as outputs of electricity <em>elc</em> and heat in the form of exhaust gases <em>heat</em>. Assume, that the ratio of heat and power should be 3:1, meaning an electrical efficiency of 25%, and the remaining 75% being heat. To ensure this ratio, a general constraint named <em>gt_c1</em> is defined in the sheet <em>constraint</em>, with the operator set to <em>eq</em>. </p> <table> <thead> <tr> <th>name</th> <th>operator</th> <th>is_setpoint</th> <th>penalty</th> </tr> </thead> <tbody> <tr> <td>gt_c1</td> <td>eq</td> <td>0</td> <td>0</td> </tr> </tbody> </table> <p>In the sheet <em>gen_constraint</em>, the names of the columns referencing to the factors should be <em>gt_c1,gt,heat,s1</em> and <em>gt_c1,gt,elc,s1</em>. This refers to the constraint <em>gt_c1</em>, the process <em>gt</em>, and the process flows <em>heat</em> and <em>elc</em>. The name of the column referencing to the constant should be <em>gt_c1,s1</em>. As the sum of the factors equal the constant, the value of the factors should be <em>3</em> or <em>-3</em> for the factor representing the electricity flow, and <em>-1</em> or <em>1</em>, respectively, for the factor representing the heat flow. The value of the constant should be <em>0</em>. As the sum of the factors equal the constant, it would lead to <em>3 * elc - 1 * heat = 0</em> or alternatively <em>-3 * elc + 1 * heat = 0</em>.</p> <table> <thead> <tr> <th>t</th> <th>gt_c1,gt,elc,s1</th> <th>gt_c1,gt,heat,s1</th> <th>gt_c1,s1</th> </tr> </thead> <tbody> <tr> <td>t1</td> <td>3</td> <td>-1</td> <td>0</td> </tr> <tr> <td>t2</td> <td>3</td> <td>-1</td> <td>0</td> </tr> <tr> <td>tn</td> <td>3</td> <td>-1</td> <td>0</td> </tr> </tbody> </table> <p>As another example, assume that the operation of two online processes, <strong>proc_1</strong> and <strong>proc_2</strong>, should be limited in regard to eachother. Assume, that the constraint <em>c_online</em> is used to limit the online variables <strong>v_online</strong> of these processes so, that the processes are not operating at the same time, but that one of the two is always active. The variable <em>v_online</em> is a binary variable with values of 0 or 1. The sum of the online variables of <em>proc_1</em> and <em>proc_2</em> should be set to 1, in order to one, but not two, of the processes to be active. As the general constraint is set equal to 0, the addiotional constant should be set to <em>-1</em>. This ensures, that **proc_1* + <em>proc_2</em> - 1 == 0*. </p> <table> <thead> <tr> <th>t</th> <th>c_online,proc_1,s1</th> <th>c_online,proc_1,s1</th> <th>c_online,s1</th> </tr> </thead> <tbody> <tr> <td>t1</td> <td>1</td> <td>1</td> <td>-1</td> </tr> <tr> <td>t2</td> <td>1</td> <td>1</td> <td>-1</td> </tr> <tr> <td>tn</td> <td>1</td> <td>1</td> <td>-1</td> </tr> </tbody> </table> <p>If both the processes should be either online or offline at the same time, the coefficients for one process should be <em>1</em>, and the other should be <em>-1</em>, weith the constant set to 0. This would result in the constraint **proc_1* - <em>proc_2</em> + 0 == 0*. </p> <p>As an example of a setpoint general constraint, assume the value of the electricity, <strong>elc</strong>, production of the process <strong>gas_turb</strong> has to be between 3 and 8. To do this, two setpoint constraints are defined, <strong>c_up</strong> and <strong>c_dw</strong>, for defining an upper and lower boundary for the process flow. As above, the constraints are defined in the <em>gen_constraint</em> sheet. The operator for <em>c_up</em> should be <em>st</em> (= smaller than), and the operator for <em>c_dw</em> should be <em>gt</em> (=greater than). Both constraints are defined as setpoint constraints, with a deviation penalty of 100. The unit of the penalty is simply per unit of variable, meaning a variable deviation of 2 would increase the costs in the model with 200.</p> <table> <thead> <tr> <th>name</th> <th>operator</th> <th>is_setpoint</th> <th>penalty</th> </tr> </thead> <tbody> <tr> <td>c_up</td> <td>st</td> <td>1</td> <td>100</td> </tr> <tr> <td>c_dw</td> <td>gt</td> <td>1</td> <td>100</td> </tr> </tbody> </table> <p>In the <em>constraint</em> sheet, the values for the upper and lower boundaries are defined. The constraints <em>c_up</em> is the upper boundary, and a value of 8 is given. For <em>c_dw</em>, a value of 3 is defined. With these constraints, the electricity production of <em>gas_turb</em> has to be between 3 and 8. Any deviation from this range will result in a penalty of 100 for each unit of production exceeding this range. </p> <table> <thead> <tr> <th>t</th> <th>c_up,gas_turb,elc,s1</th> <th>c_dw,gas_turb,elc,s1</th> </tr> </thead> <tbody> <tr> <td>t1</td> <td>8</td> <td>3</td> </tr> <tr> <td>t2</td> <td>8</td> <td>3</td> </tr> <tr> <td>tn</td> <td>8</td> <td>3</td> </tr> </tbody> </table></div> </article> </div> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> </main> <footer class=md-footer> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-copyright__highlight> Copyright &copy; 2024 - 2024 VTT - Design and Operation of Energy Systems </div> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "..", "features": [], "search": "../assets/javascripts/workers/search.6ce7567c.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script> <script src=../assets/javascripts/bundle.88dd0f4e.min.js></script> </body> </html>